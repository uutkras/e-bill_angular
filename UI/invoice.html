<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            padding: 20px;
		background: url('https://group.met.com/media/omvoe0f3/electricity.jpg?anchor=center&mode=crop&width=1920&rnd=133293326643000000&mode=max&upscale=false') no-repeat center center fixed;
            #background: #f9f9f9;
        }

        .invoice-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            margin: auto;
        }

        h1 {
            text-align: center;
            color: #5cb85c;
        }

        .details {
            margin: 20px 0;
        }

        .details label {
            font-weight: bold;
        }

        .amount {
            font-size: 24px;
            color: #5cb85c;
            font-weight: bold;
            margin: 20px 0;
            text-align: center;
        }

        .btn {
            display: block;
            background: #5cb85c;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
            width: 100%;
            max-width: 200px;
            margin: 20px auto;
            text-decoration: none;
        }

        .btn:hover {
            background: #4cae4c;
        }
    </style>
</head>

<body>

<div class="invoice-container">
    <h1>Payment Done Successfully</h1>

    <div class="details">
        <label for="transactionId">Transaction ID: </label>
        <span id="transactionId"></span><br>

        <label for="receiptNo">Receipt No: </label>
        <span id="receiptNo"></span><br>

        <label for="transactionDate">Transaction Date: </label>
        <span id="transactionDate"></span><br>

        <label for="paymentType">Payment Type: </label>
        <span id="paymentType"></span><br>

        <label for="userName">User ID: </label>
        <span id="userID"></span><br>

        <label for="customerName">Customer Name: </label>
        <span id="customerName"></span><br>
    </div>

    <div class="amount">Paid Amount: â‚¹400</div>

    <button class="btn" onclick="printInvoice()">Print Invoice</button>
</div>

<script>
    // Load user data and payment details from localStorage
    function loadInvoiceData() {
        const registrationData = JSON.parse(localStorage.getItem('registrationData'));
        const paymentData = JSON.parse(localStorage.getItem('registrationData'));

        if (registrationData && paymentData) {
            document.getElementById('userID').textContent = registrationData ? registrationData.userId : 'Guest';
            document.getElementById('customerName').textContent = registrationData ? registrationData.customerName : 'Guest';
            document.getElementById('paymentType').textContent = "Credit Card"

            // Generate random Transaction ID and Receipt No
            document.getElementById('transactionId').textContent = generateRandomId();
            document.getElementById('receiptNo').textContent = generateRandomId();

            // Set Transaction Date to current timestamp
            const now = new Date();
            document.getElementById('transactionDate').textContent = now.toLocaleString();
        } else {
            alert('User data or payment data not found. Please register and process payment again.');
            window.location.href = 'registration.html'; // Redirect to registration if no data
        }
    }

    function generateRandomId() {
        return 'ID' + Math.floor(Math.random() * 100000).toString();
    }

    function printInvoice() {
        window.print();
    }

    // Load invoice data on page load
    window.onload = loadInvoiceData;
</script>

</body>
</html>
